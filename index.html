<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first Three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="/js/three.js"></script>
		<script type="text/javascript" src="/js/orbitalcontrols.js"></script>
		<script>

		// Helper Method
		var orbitalScaler = function(distance) {
			return distance / 2.9
		};

		var radiusLog = function (radius) {
			return Math.log(radius) / Math.log(10)
		};

		// set up scenes
		var scene = new THREE.Scene();
		// scene.add( fog ); 
		// scene.Fog

		// set up a clock
		var clock = new THREE.Clock();
		clock.autoStart
		console.log(clock)

		// scene.add( new THREE.Fog(0xffffff, 0.015, 100) )

		// set up camera
		var camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 5000 );
		// set up renderer
		var renderer = new THREE.WebGLRenderer();

		// setting up camera controls
		controls = new THREE.OrbitControls( camera );
				controls.minDistance = 10;
				controls.maxDistance = 800;

		//3D Axis helper for center of scene
		scene.add( new THREE.AxisHelper( 20 ) );


		// sets background color
		// renderer.setClearColor(new THREE.Color(0x990000	));

		//need to wrap in space - need to revisit

		// var spacetex = new THREE.TextureLoader().load("images/space.jpg");
		// spacetex.minFilter = THREE.LinearFilter;
		// spacetex.wrapS = THREE.RepeatWrapping;
		// spacetex.wrapT = THREE.RepeatWrapping;


	 //  var spacesphereGeo = new THREE.SphereGeometry( 10, 32, 32);
	 //  var spacesphereMat = new THREE.MeshBasicMaterial({map: spacetex});

	 //  var spacesphere = new THREE.Mesh(spacesphereGeo,spacesphereMat);
	  
	  //spacesphere needs to be double sided as the camera is within the spacesphere
	  // spacesphere.material.side = THREE.DoubleSide;
	  

	  // spacesphere.material.map.repeat.set( 3, 3);
	  
	  // scene.add(spacesphere);
		// spacesphere.position.set(5, 10, 2)

		// Render appends to the body 
		renderer.setSize( window.innerWidth, window.innerHeight );
		document.body.appendChild( renderer.domElement );

		// setting up logarithmic scale

		// ==================================
		// 	Setting up the sun
		// ==================================
		//new shape for sun which is a sphere
		var sunGeometry = new THREE.SphereGeometry(radiusLog(432288), 32, 32 );
		// creating sun texture
		var sunTexture = new THREE.TextureLoader().load("images/sun.jpg")
		sunTexture.wrapS = THREE.RepeatWrapping;
		sunTexture.wrapT = THREE.RepeatWrapping;
		// creating the sun material
		var material = new THREE.MeshBasicMaterial({map: sunTexture});

		// take the sun shape and wraps sun mesh
		var sun = new THREE.Mesh( sunGeometry, material );
		
		// adds the sun to the scene
		scene.add( sun );

		// ==================================
		// 	Setting up Sun/Mercury
		// ==================================
		var sunMercuryGeometry = new THREE.SphereGeometry(1, 32, 32 );
		var material = new THREE.MeshBasicMaterial({color: 0xffffff});
		var sunMercury = new THREE.Mesh( sunMercuryGeometry, material );
		
		// changes the orbital path
		scene.add( sunMercury );
		
		// ==================================
		// 	Setting up Mercury
		// ==================================
		var mercuryGeometry = new THREE.SphereGeometry(radiusLog(1516), 32, 32 );
		var mercuryTexture = new THREE.TextureLoader().load("images/mercury.jpg")
		mercuryTexture.wrapS = THREE.RepeatWrapping;
		mercuryTexture.wrapT = THREE.RepeatWrapping;
		var material = new THREE.MeshBasicMaterial({map: mercuryTexture});
		var venus = new THREE.Mesh( mercuryGeometry, material );
		
		// adds venus to sun. Might have to add to something else to change orbital path
		sunMercury.add(venus);
		venus.translateY(orbitalScaler(35.96))

		// ==================================
		// 	Setting up Venus
		// ==================================
		var venusGeometry = new THREE.SphereGeometry(radiusLog(3760), 32, 32 );
		var venusTexture = new THREE.TextureLoader().load("images/venus.jpg")
		venusTexture.wrapS = THREE.RepeatWrapping;
		venusTexture.wrapT = THREE.RepeatWrapping;
		var material = new THREE.MeshBasicMaterial({map: venusTexture});
		var venus = new THREE.Mesh( venusGeometry, material );
		
		// adds venus to sun. Might have to add to something else to change orbital path
		sun.add(venus);
		venus.translateY(orbitalScaler(67.24))

		// ==================================
		// 	Setting up Sun/Earth
		// ==================================
		var sunEarthGeometry = new THREE.SphereGeometry(1, 32, 32 );
		var material = new THREE.MeshBasicMaterial({color: 0xffffff});
		var sunEarth = new THREE.Mesh( sunEarthGeometry, material );
		
		// changes the orbital path
		scene.add( sunEarth );

		// ==================================
		// 	Setting up Earth
		// ==================================
		var earthGeometry = new THREE.SphereGeometry(radiusLog(3959), 32, 32 );
		var earthTexture = new THREE.TextureLoader().load("images/earth.jpg")
		earthTexture.wrapS = THREE.RepeatWrapping;
		earthTexture.wrapT = THREE.RepeatWrapping;
		var material = new THREE.MeshBasicMaterial({map: earthTexture});
		var earth = new THREE.Mesh( earthGeometry, material );
		
		// adds the earth to the scene - might have to add to something else to change orbital path
		sunEarth.add( earth );
		earth.translateY(orbitalScaler(92.96));
		earth.add(new THREE.AxisHelper( 10 ))

		// ==================================
		// 	Setting up Moon
		// ==================================
		var moonGeometry = new THREE.SphereGeometry(radiusLog(1079), 32, 32 );
		var moonTexture = new THREE.TextureLoader().load("images/moon.jpg")
		moonTexture.wrapS = THREE.RepeatWrapping;
		moonTexture.wrapT = THREE.RepeatWrapping;
		var material = new THREE.MeshBasicMaterial({map: moonTexture});
		var moon = new THREE.Mesh( moonGeometry, material );

		// add the moon to the earth
		earth.add(moon);
		moon.translateY(8.5);

		// ==================================
		// 	Setting up Mars
		// ==================================
		var marsGeometry = new THREE.SphereGeometry(radiusLog(2106), 32, 32 );
		var marsTexture = new THREE.TextureLoader().load("images/mars.jpg")
		marsTexture.wrapS = THREE.RepeatWrapping;
		marsTexture.wrapT = THREE.RepeatWrapping;
		var material = new THREE.MeshBasicMaterial({map: marsTexture});
		var mars = new THREE.Mesh( marsGeometry, material );

		sun.add(mars);
		mars.translateY(orbitalScaler(141.6));

		// ==================================
		// 	Setting up Jupiter
		// ==================================
		var jupiterGeometry = new THREE.SphereGeometry(radiusLog(43,441), 32, 32 );
		var jupiterTexture = new THREE.TextureLoader().load("images/jupiter.jpg")
		jupiterTexture.wrapS = THREE.RepeatWrapping;
		jupiterTexture.wrapT = THREE.RepeatWrapping;
		var material = new THREE.MeshBasicMaterial({map: jupiterTexture});
		var jupiter = new THREE.Mesh( jupiterGeometry, material );

		// add the moon to the earth
		sun.add(jupiter);
		jupiter.translateY(orbitalScaler(483.8));

		// ==================================
		// 	Setting up Saturn
		// ==================================
		var saturnGeometry = new THREE.SphereGeometry(radiusLog(36,184), 32, 32 );
		var saturnTexture = new THREE.TextureLoader().load("images/saturn.jpg")
		saturnTexture.wrapS = THREE.RepeatWrapping;
		saturnTexture.wrapT = THREE.RepeatWrapping;
		var material = new THREE.MeshBasicMaterial({map: saturnTexture});
		var saturn = new THREE.Mesh( saturnGeometry, material );

		// add the moon to the earth
		sun.add(saturn);
		saturn.translateY(orbitalScaler(888.2));

		// ==================================
		// 	Setting up Uranus
		// ==================================
		var uranusGeometry = new THREE.SphereGeometry(radiusLog(15,759), 32, 32 );
		var uranusTexture = new THREE.TextureLoader().load("images/uranus.jpg")
		uranusTexture.wrapS = THREE.RepeatWrapping;
		uranusTexture.wrapT = THREE.RepeatWrapping;
		var material = new THREE.MeshBasicMaterial({map: uranusTexture});
		var uranus = new THREE.Mesh( uranusGeometry, material );

		// add the moon to the earth
		sun.add(uranus);
		uranus.translateY(orbitalScaler(1787));

		// ==================================
		// 	Setting up Neptune
		// ==================================
		var neptuneGeometry = new THREE.SphereGeometry(radiusLog(15,299), 32, 32 );
		var neptuneTexture = new THREE.TextureLoader().load("images/neptune.jpg")
		neptuneTexture.wrapS = THREE.RepeatWrapping;
		neptuneTexture.wrapT = THREE.RepeatWrapping;
		var material = new THREE.MeshBasicMaterial({map: neptuneTexture});
		var neptune = new THREE.Mesh( neptuneGeometry, material );

		// add the moon to the earth
		sun.add(neptune);
		neptune.translateY(orbitalScaler(2795));

		// ==================================
		// 	Setting up Pluto
		// ==================================
		var plutoGeometry = new THREE.SphereGeometry(radiusLog(736.9), 32, 32 );
		var plutoTexture = new THREE.TextureLoader().load("images/pluto.jpg")
		plutoTexture.wrapS = THREE.RepeatWrapping;
		plutoTexture.wrapT = THREE.RepeatWrapping;
		var material = new THREE.MeshBasicMaterial({map: plutoTexture});
		var pluto = new THREE.Mesh( plutoGeometry, material );

		// add the moon to the earth
		sun.add(pluto);
		pluto.translateY(orbitalScaler(3670));

		// zooms the camera out of the original orientation so we can view the planets
		camera.position.z = 200;


		// render function
		function render() {
			// runs a loops that will call the render function 60x a second
			requestAnimationFrame( render );
			// rotates earth orientation
			venus.rotation.z += 0.05;
			sun.rotation.z += Math.PI/1800;
			sunEarth.rotation.z += Math.PI/(1800*24.47);
			sunMercury.rotation.z += Math.PI/(1800*)
			// sun.rotation.z += .0016666;
			// sun.rotation.y += .01;
			// earth.rotation.x += 0.005;
			// earth.rotation.y += 0.005;
			// spacesphere.rotation.y += 0.001;
			renderer.render( scene, camera );
		}
		render();
		</script>
	</body>
</html>